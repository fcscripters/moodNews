<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Mood News</title>
	<link rel="stylesheet" href="https://code.jquery.com/qunit/qunit-1.18.0.css">
	<link rel="stylesheet" href="http://yui.yahooapis.com/pure/0.6.0/pure-min.css">
</head>
<body>
	Hello World
	Sohil
	<header>
	<div class="title"></div>
</header>
<div class="search"></div>
<div class="soundcloud">

	<button id="play">Start</button>
	<button id="stop">Stop</button>
	<button id="pause">Pause</button>
		<ul>
			<li id="track"></li>
		</ul>
</div>
<div class="instagram"></div>
<div class="guardian"></div>

<div id="qunit"></div>
<div id="qunit-fixture"></div>
<script src="https://code.jquery.com/qunit/qunit-1.18.0.js"></script>

<script src="http://connect.soundcloud.com/sdk-2.0.0.js"></script>
<script>
	// initialize client with app credentials */
	SC.initialize({

		/* client_id: '38fed2acd8bf8e0001c5a3dddad41c76',*/
		client_id: '5c5a64cfdf37c482bb757df270d33c53',
		redirect_uri: 'http://fcscripters.github.io/moodNews/callback.html'

	})

	// var query = document.getElementById("result").value;
	var query = "oasis";
	var trackID;


	SC.get("/tracks", {

		q: query,
		// created_at: {'from': todayDate},
		//limit: 7
	}, function(tracks) {

tracks.sort(function(a,b){
	return a.created_at < b.created_at
});

for (var i = 0; i < tracks.length; i++) {
	console.log(tracks[i].created_at);
}

		console.log(tracks);

		trackID = tracks[0].id;
		console.log (trackID);

		document.getElementById("track").innerHTML = tracks[0].title;


	SC.stream("/tracks/"+ trackID, function(sound) {
			document.getElementById('play').addEventListener("click", function(){
					console.log(trackID);
					//document.getElementById('play').click() = function(e) {
					//e.preventDefault();
					sound.play();
			});
			document.getElementById('stop').addEventListener("click", function(){
					console.log(trackID);
					//document.getElementById('play').click() = function(e) {
					//e.preventDefault();
					sound.stop();
			});
			document.getElementById('pause').addEventListener("click", function(){
					console.log(trackID);
					//document.getElementById('play').click() = function(e) {
					//e.preventDefault();
					sound.pause();
			});
		});

});

</script>

<script>


test('Have result been returned when search is clicked', function(assert) {
	var done = assert.async();
	var check = false;
	setTimeout (function(){

	if(document.getElementById("track")){
			check = true;
		}

			assert.equal( check, true, 'Tracks are available' );
			done();
		},1000);
		});





</script>

</body>

</html>
